(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{233:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},269:function(e,t,a){},270:function(e,t,a){},271:function(e,t,a){},272:function(e,t,a){},273:function(e,t,a){},403:function(e,t,a){},404:function(e,t,a){},405:function(e,t,a){},406:function(e,t,a){},407:function(e,t,a){},408:function(e,t,a){},409:function(e,t,a){},410:function(e,t,a){},411:function(e,t,a){},412:function(e,t,a){},413:function(e,t,a){},417:function(e,t,a){},418:function(e,t,a){},419:function(e,t,a){},420:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(42),r=a.n(n),o=(a(233),a(23)),i=a(11),l=a.n(i),b=a(21),j=a(3),d=a(17),u=a(13),h=a.n(u),x=(a(235),a(236),a(191)),O=a.n(x).a.create({timeout:1e4});O.interceptors.request.use((function(e){var t=h.a.get("token");return e.headers.Authorization=t,e}));var m=O,f="/api",p=c.a.createContext(),g=a(219),v=Object(g.a)("/"),_=a(0);var k=function(){var e,t=Object(s.useState)(null),a=Object(j.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(null),i=Object(j.a)(r,2),u=i[0],x=i[1],O=Object(s.useState)(""),g=Object(j.a)(O,2),k=g[0],N=g[1],y=Object(s.useState)(""),P=Object(j.a)(y,2),D=P[0],B=P[1],C=Object(s.useState)(0),S=Object(j.a)(C,2),w=S[0],I=S[1],T=Object(s.useState)(""),M=Object(j.a)(T,2),H=M[0],E=M[1],G=Object(s.useState)(""),L=Object(j.a)(G,2),A=L[0],V=L[1],F=Object(s.useState)(""),Y=Object(j.a)(F,2),U=Y[0],R=Y[1],W=Object(s.useState)(600),J=Object(j.a)(W,2),q=J[0],Q=J[1],z=Object(s.useState)(null),K=Object(j.a)(z,2),X=K[0],Z=K[1],$=Object(s.useState)(!1),ee=Object(j.a)($,2),te=ee[0],ae=ee[1],se=Object(s.useState)(!1),ce=Object(j.a)(se,2),ne=ce[0],re=ce[1],oe=Object(s.useState)(!1),ie=Object(j.a)(oe,2),le=ie[0],be=ie[1],je=Object(s.useState)(!0),de=Object(j.a)(je,2),ue=de[0],he=de[1],xe=Object(d.g)();return Object(s.useEffect)((function(){A&&h.a.set("sessionID",A)}),[A]),Object(s.useEffect)((function(){H&&h.a.set("privateID",H)}),[H]),Object(s.useEffect)((function(){U&&h.a.set("passcode",U)}),[U]),Object(s.useEffect)((function(){D&&h.a.set("userInfo",D)}),[D]),Object(s.useEffect)((function(){w<0&&I(0)}),[w]),Object(s.useEffect)((function(){I(w+1)}),[window.location.pathname]),Object(s.useEffect)((function(){if(te){clearInterval(X);var e=setInterval((function(){Q((function(e){return e-1}))}),1e3);Z(e)}else X&&clearInterval(X);return function(){X&&clearInterval(X)}}),[te]),Object(s.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(b.a)(l.a.mark((function e(){var t,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(t=h.a.get("token"))&&"undefined"!==t){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,m("".concat(f,"/auth"),{method:"GET"});case 6:return a=e.sent,e.next=9,a.data;case 9:0!==(s=e.sent).status?n(null):(h.a.set("token",s.token,{expires:1}),n(h.a.get("token"))),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),n(null),xe("/login");case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}n(h.a.get("token")),N(h.a.get("userType")),B(h.a.get("userInfo")),E(h.a.get("privateID")),V(h.a.get("sessionID")),R(h.a.get("passcode")),I(0),h.a.get("sessionID")&&h.a.get("token")&&h.a.get("userInfo")&&(v.emit("activate_game1",{id:h.a.get("userInfo"),type:h.a.get("userType"),sid:h.a.get("sessionID")}),v.emit("join_game1",h.a.get("sessionID"))),h.a.get("token")&&"undefined"!==h.a.get("token")&&null!==h.a.get("token")?"Teacher"===h.a.get("userType")?h.a.get("sessionID")?xe("/scenario"):xe("/gamesetting"):"Student"===h.a.get("userType")&&xe("/scenario"):xe("/login"),e();var a=setInterval(e,3e5);return x(a),function(){return clearInterval(u)}}),[]),Object(_.jsxs)("div",{className:"wrap",children:[Object(_.jsx)("div",{className:"icon_left_div",children:Object(_.jsxs)("div",{className:"icon_border",children:[Object(_.jsx)("img",{className:"img-fluid",src:"/PolyU_logo.jpeg",alt:"",width:"100%"}),Object(_.jsx)("img",{className:"img-fluid icon_left_X",src:"/ISE_logo.jpeg",alt:"",width:"59.7%"})]})}),Object(_.jsx)("div",{className:"main",children:Object(_.jsx)(p.Provider,{value:(e={setHistoryLength:I,historyLength:w,setLogin:n,setUserType:N,userToken:c,userType:k,setUserInfo:B,userInfo:D,setPrivateID:E,privateID:H},Object(o.a)(e,"privateID",H),Object(o.a)(e,"setSessionID",V),Object(o.a)(e,"sessionID",A),Object(o.a)(e,"passcode",U),Object(o.a)(e,"setPasscode",R),Object(o.a)(e,"socket",v),Object(o.a)(e,"setTimerSeconds",Q),Object(o.a)(e,"tiemrSeconds",q),Object(o.a)(e,"setTimerStart",ae),Object(o.a)(e,"blockDetail",ne),Object(o.a)(e,"setBlockDetail",re),Object(o.a)(e,"sessionInfo",le),Object(o.a)(e,"setSessionInfo",be),Object(o.a)(e,"gameOver",ue),Object(o.a)(e,"setGameOver",he),e),children:Object(_.jsx)(d.a,{})})}),Object(_.jsx)("div",{className:"icon_right_div",children:Object(_.jsx)("div",{className:"icon_border",children:Object(_.jsx)("img",{className:"img-fluid",alt:"",src:"/SCM_HSU_short.png",width:"100%"})})})]})},N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,436)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),s(e),c(e),n(e),r(e)}))},y=a(431),P=a(430),D=(a(259),a(260),a(435));function B(e){var t=e.errorTitleMSG,a=e.errorMSG,s=e.showErrorModal,c=e.setShowErrorModal;return Object(_.jsxs)(P.a,{show:s,onHide:function(){return c(!1)},"aria-labelledby":"example-modal-sizes-title-lg",centered:!0,className:"ErrorModal_ModalStyle",children:[Object(_.jsx)(P.a.Header,{className:"ErrorModal_Modalbc",children:Object(_.jsx)(P.a.Title,{children:t})}),Object(_.jsx)(P.a.Body,{className:"ErrorModal_Modalbc",children:a}),Object(_.jsx)(P.a.Footer,{className:"ErrorModal_Modalbc",children:Object(_.jsx)(D.a,{variant:"secondary",onClick:function(){return c(!1)},className:"LoginPage_ModalCloasebtn",children:"Close"})})]})}function C(e){var t=Object(s.useState)(""),a=Object(j.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(""),o=Object(j.a)(r,2),i=o[0],u=o[1],x=Object(d.g)(),O=Object(s.useState)(!1),g=Object(j.a)(O,2),k=g[0],N=g[1],D=Object(s.useState)(""),C=Object(j.a)(D,2),S=C[0],w=C[1],I=e.showLoginModal,T=e.setShowLoginModal,M=e.setLogin,H=e.setUserType,E=e.setUserInfo,G=Object(s.useContext)(p),L=G.setPrivateID,A=G.setPasscode,V=G.setSessionID;function F(e){if(""===e)return!0}function Y(e){if(0===e.trim().length)return!0}function U(){return(U=Object(b.a)(l.a.mark((function e(t){var a,s,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F(c)&&!F(i)){e.next=5;break}return w("Please enter your Teacher ID and Password!"),T(!1),N(!0),e.abrupt("return");case 5:if(!Y(c)||!Y(i)){e.next=10;break}return w("Please don't only space"),T(!1),N(!0),e.abrupt("return");case 10:return e.prev=10,t.preventDefault(),e.next=14,m("".concat(f,"/auth/teacher"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},data:{tid:c.replace(/\s*/g,""),pw:i.replace(/\s*/g,"")}});case 14:return a=e.sent,e.next=17,a.data;case 17:if(0!==(s=e.sent).status){e.next=35;break}return M(s.token),H("Teacher"),E(c.replace(/\s*/g,"")),h.a.set("token",s.token,{expires:1}),h.a.set("userType","Teacher"),v.emit("activate_game1",{id:h.a.get("userInfo"),type:h.a.get("userType")}),e.next=27,m("".concat(f,"/game1/session/tid"),{method:"GET"});case 27:return n=e.sent,e.next=30,n.data;case 30:r=e.sent,console.log(r),0===r.status?r.session&&r.session.info&&r.session.info.sid?(L(r.session.info.pid),A(r.session.info.passcode),V(r.session.info.sid),x("/nodedashboard")):x("/gamesetting"):(w(r.err),T(!1),N(!0)),e.next=36;break;case 35:"Account is already logged in"===s.err?(w("Account is already logged in!"),T(!1),N(!0)):(w(s.err),N(!0));case 36:e.next=43;break;case 38:e.prev=38,e.t0=e.catch(10),w(e.t0.response?e.t0.response.data.error:e.t0.message),T(!1),N(!0);case 43:case"end":return e.stop()}}),e,null,[[10,38]])})))).apply(this,arguments)}return Object(_.jsxs)("main",{children:[Object(_.jsxs)(P.a,{show:I,onHide:function(){return T(!1)},"aria-labelledby":"example-modal-sizes-title-lg",backdrop:"static",centered:!0,children:[Object(_.jsx)(P.a.Header,{closeButton:!0}),Object(_.jsx)(P.a.Body,{children:Object(_.jsx)(y.a,{className:"loginModalForm",children:Object(_.jsxs)("div",{className:"form-floating",children:[Object(_.jsxs)(y.a.Group,{className:"mb-3",controlId:"teacherid",children:[Object(_.jsx)(y.a.Label,{children:"Teacher ID"}),Object(_.jsx)(y.a.Control,{type:"teacherid",placeholder:"Teacher ID",onChange:function(e){return n(e.target.value)}})]}),Object(_.jsxs)(y.a.Group,{className:"mb-3",controlId:"teacherPWD",children:[Object(_.jsx)(y.a.Label,{children:"Password"}),Object(_.jsx)(y.a.Control,{type:"teacherPWD",placeholder:"Teacher password",onChange:function(e){return u(e.target.value)}})]})]})})}),Object(_.jsx)(P.a.Footer,{children:Object(_.jsx)("div",{className:"setShowLoginModal_div_Login",children:Object(_.jsx)("input",{className:"setShowLoginModal_btn_Login",type:"button",value:"Login",onClick:function(e){return function(e){return U.apply(this,arguments)}(e)}})})})]}),Object(_.jsx)(B,{showErrorModal:k,setShowErrorModal:N,errorTitleMSG:"Login Error",errorMSG:S})]})}a(263);function S(e){var t=Object(s.useState)(!1),a=Object(j.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(!1),o=Object(j.a)(r,2),i=o[0],u=o[1],x=Object(s.useState)(""),O=Object(j.a)(x,2),g=O[0],v=O[1],k=Object(s.useState)(""),N=Object(j.a)(k,2),P=N[0],D=N[1],S=Object(s.useState)(""),w=Object(j.a)(S,2),I=w[0],T=w[1],M=Object(s.useContext)(p),H=M.setPasscode,E=M.setHistoryLength,G=M.setLogin,L=M.setUserType,A=M.setUserInfo,V=M.setPrivateID,F=M.setSessionID,Y=M.sessionID,U=M.socket,R=Object(d.g)();function W(e){if(""===e)return!0}function J(e){if(0===e.trim().length)return!0}function q(){return(q=Object(b.a)(l.a.mark((function e(t){var a,s,c,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!W(P)&&!W(I)){e.next=4;break}return v("Please enter your Student ID and Passcode!"),u(!0),e.abrupt("return");case 4:if(!J(P)||!J(I)){e.next=8;break}return v("Please don't only space"),u(!0),e.abrupt("return");case 8:return e.prev=8,t.preventDefault(),e.next=12,m("".concat(f,"/auth/student"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},data:{pbid:P.replace(/\s*/g,""),passcode:I.replace(/\s*/g,"")}});case 12:return a=e.sent,e.next=15,a.data;case 15:if(0!==(s=e.sent).status){e.next=44;break}return h.a.set("token",s.token,{expires:1}),e.next=20,m("".concat(f,"/game1/session/").concat(s.sid,"/miners/count"),{method:"GET"});case 20:return c=e.sent,e.next=23,c.data;case 23:if(!(e.sent.count<=40)){e.next=39;break}return G(s.token),L("Student"),A(P.replace(/\s*/g,"")),h.a.set("token",s.token,{expires:1}),h.a.set("userType","Student"),e.next=32,m("".concat(f,"/game1/session/miners"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}});case 32:return n=e.sent,e.next=35,n.data;case 35:0===(r=e.sent).status&&(V(r.pvid),F(r.sid),H(I.replace(/\s*/g,"")),U.emit("activate_game1",{sid:r.sid,id:P.replace(/\s*/g,""),type:"Student"}),U.emit("join_game1",r.sid),R("/scenario")),e.next=42;break;case 39:h.a.remove("token"),v("Game session full (max miner 40)"),u(!0);case 42:e.next=45;break;case 44:"Account is already logged in"===s.err?(v("Account is already logged in!"),u(!0)):(v(s.err),u(!0));case 45:e.next=51;break;case 47:e.prev=47,e.t0=e.catch(8),v(e.t0.response?e.t0.response.data.error:e.t0.message),u(!0);case 51:case"end":return e.stop()}}),e,null,[[8,47]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){h.a.remove("token"),h.a.remove("userType"),h.a.remove("sessionID"),E(0),G(null),L(null),U&&(U.emit("leaveSession",Y),U.emit("deactivate",Y))}),[]),Object(_.jsxs)("div",{className:"loginPag_body",children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("img",{src:"/login_logo.jpeg",className:"img-fluid",alt:"",width:"100%"}),Object(_.jsxs)("div",{className:" div_title",children:[Object(_.jsx)("div",{className:"heading_MainTitle",children:"BlockTrain"}),Object(_.jsx)("div",{className:"heading_title",children:"The Basic Training Game in Blockchain Concepts"})]})]}),Object(_.jsx)("br",{}),Object(_.jsx)(y.a,{className:"loginForm",children:Object(_.jsxs)("div",{className:"form-floating",children:[Object(_.jsxs)(y.a.Group,{className:"mb-3",controlId:"studentid",children:[Object(_.jsx)(y.a.Label,{children:"Student ID"}),Object(_.jsx)(y.a.Control,{type:"studentid",placeholder:"Student ID",onChange:function(e){return D(e.target.value)}})]}),Object(_.jsxs)(y.a.Group,{className:"mb-3",controlId:"passcode",onChange:function(e){return T(e.target.value)},children:[Object(_.jsx)(y.a.Label,{children:"Passcode"}),Object(_.jsx)(y.a.Control,{type:"passcode",placeholder:"Passcode"})]})]})}),Object(_.jsx)("div",{className:"div_GameIn",children:Object(_.jsx)("input",{className:"btn_GameIn",type:"button",value:"Game in",onClick:function(e){return function(e){return q.apply(this,arguments)}(e)}})}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"div_GameSettings",children:Object(_.jsx)("input",{className:"btn_GameSettings",type:"button",value:"Game Settings",onClick:function(){return n(!0)}})}),Object(_.jsx)("br",{}),Object(_.jsx)(C,{showLoginModal:c,setShowLoginModal:n,setLogin:G,setUserType:L,setUserInfo:A}),Object(_.jsx)(B,{showErrorModal:i,setShowErrorModal:u,errorTitleMSG:"Login Error",errorMSG:g})]})}a(264);var w=a(422),I=a(433);function T(){return Object(_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-arrow-left",viewBox:"0 0 16 16",children:Object(_.jsx)("path",{fillRule:"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"})})}a(265);function M(e){var t=e.lastPageName,a=Object(s.useContext)(p),c=(a.setHistoryLength,a.historyLength,Object(s.useState)("none")),n=Object(j.a)(c,2),r=n[0],o=n[1],i=Object(d.g)();return Object(s.useEffect)((function(){""!=t&&o("")}),[]),Object(_.jsxs)("div",{className:"TitleBar_bar",children:[Object(_.jsx)("div",{className:"item",children:Object(_.jsx)(D.a,{variant:"none",style:{display:r},onClick:function(){i("/"+t)},children:Object(_.jsx)("b",{children:Object(_.jsx)(T,{})})})}),Object(_.jsx)("p",{className:"h2 toptitle TitleBar_toptitle item ",children:"Blockchain Game"}),Object(_.jsx)("div",{className:"item"})]})}function H(e){var t=Object(s.useState)("White"),a=Object(j.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)("White"),o=Object(j.a)(r,2),i=o[0],l=o[1],b=Object(s.useContext)(p).userType,u=Object(d.g)();return Object(s.useEffect)((function(){"Teacher"===b?l("grey"):"Student"===b&&n("grey")}),[]),Object(_.jsxs)("div",{children:[Object(_.jsx)(M,{backLastPage:"",lastPageName:""}),Object(_.jsx)("div",{className:"text-center chooserole",children:Object(_.jsx)("p",{className:"h3",children:"Choose your role"})}),Object(_.jsx)("div",{className:"roles",children:Object(_.jsxs)(w.a,{children:[Object(_.jsx)("div",{style:{width:"45%",height:"45%",marginRight:"2.5%",marginLeft:"0.2rem",textDecoration:"none"},type:"button",onClick:function(e){"Teacher"===b&&u("/nodehome")},children:Object(_.jsx)(I.a,{style:{width:"100%",height:"100%",borderRadius:"15px",backgroundColor:c},children:Object(_.jsx)(I.a.Body,{className:"card_body",children:Object(_.jsx)(I.a.Text,{className:"text-role text-center mobile-phone",style:{color:"black"},children:"Node"})})})}),Object(_.jsx)("div",{style:{width:"45%",height:"45%",marginRight:"2.5%",marginLeft:"0.2rem",textDecoration:"none"},type:"button",onClick:function(e){"Student"===b&&u("/minerhome")},children:Object(_.jsx)(I.a,{style:{width:"100%",height:"100%",borderRadius:"15px",backgroundColor:i},children:Object(_.jsx)(I.a.Body,{className:"card_body",children:Object(_.jsx)(I.a.Text,{className:"text-role text-center mobile-phone",style:{color:"black"},children:"Miner"})})})})]})})]})}var E=a(423);a(266);function G(){var e=Object(d.g)();return Object(_.jsxs)("div",{children:[Object(_.jsx)(M,{backLastPage:"",lastPageName:""}),Object(_.jsx)("div",{className:"text-center",children:Object(_.jsx)("p",{className:"h3",style:{color:"#801E9E",paddingTop:"1rem",paddingBottom:"1rem"},children:"How to Do a Hash Calculation?"})}),Object(_.jsx)("div",{className:"hash_border",children:Object(_.jsxs)("div",{className:"hash_border_text",children:[Object(_.jsx)("p",{children:Object(_.jsx)("b",{children:"The rule of hash Calculation: "})}),Object(_.jsxs)("p",{children:["Hash = 10*(A + B + C + D + E) + Prev. Hash (last three digits) + Nonce",Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),"Nonce = a value between 1 and 21 (to be adjusted to produce a hash that can be completely divided by 3 AND 7)",Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),"Each block has five data fields (Customer ID, Product ID, Product Quantity, Product Name and Delivery Date).",Object(_.jsx)("br",{}),"A = Value of the first letter of Customer ID",Object(_.jsx)("br",{}),"B = Value of the first letter of Product ID",Object(_.jsx)("br",{}),"C = Value of the Product Quantity",Object(_.jsx)("br",{}),"D = Value of the first letter of Product Name",Object(_.jsx)("br",{}),"E = Value of the first two digits (i.e. day) of Delivery Date",Object(_.jsx)("br",{}),Object(_.jsx)("br",{})]}),Object(_.jsx)(E.a,{src:"/calculationinfo.png",fluid:!0})]})}),Object(_.jsx)("div",{className:"hc_start",children:Object(_.jsx)(D.a,{variant:"none",style:{width:"100%",color:"white"},onClick:function(t){e("/role")},children:"Start"})})]})}a(267);function L(){var e=Object(d.g)();return Object(_.jsxs)("main",{children:[Object(_.jsx)(M,{backLastPage:"",lastPageName:""}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"ScenarioPage_topic",children:"Case Scenario:"}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"ScenarioPage_dataBox",children:Object(_.jsxs)("div",{className:"ScenarioPage_dataText",children:[Object(_.jsxs)("p",{children:[Object(_.jsxs)("b",{children:["Traceability of wine transactions",Object(_.jsx)("br",{}),Object(_.jsx)("br",{})]}),"A Simple PoW Blockchain"]}),Object(_.jsxs)("p",{children:["The presence of blockchain technology revamps the state-of-the-art supply chain traceability systems that are used for tracking and authenticating transactions and shipments along the global supply chain. By doing so, digital transactions can be created and verified in a secure and immutable manner so as to enhance the transparency and visibility of the supply chain activities. ",Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),"Considering that there is a wine supplier in Hong Kong, named as ABC Wines Limited, manages their wine products to several retailers located in different districts of Hong Kong. Customers can place the orders to the retailers everyday, while retailers are responsible for fulfilling the wine demand to end customers. To effectively track and trace the wine transactions between retailers and customers, a blockchain system is developed for the supply chain traceability.",Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),"In this system, there are two roles:"]}),Object(_.jsxs)("ul",{children:[Object(_.jsx)("li",{children:"\u201cNode\u201d: serves as a retailer who accept the customer demand and create the transaction accordingly to the system"}),Object(_.jsx)("br",{}),Object(_.jsx)("li",{children:"\u201cMiner\u201d: is a peer node who is dedicated to mining the transactions on the blockchain."})]}),Object(_.jsx)(E.a,{src:"/BlockchainDiagram.jpg",fluid:!0})]})}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"ScenarioPage_div_Next",children:Object(_.jsx)("input",{className:"ScenarioPage_btn_Next",type:"button",value:"Next",onClick:function(t){e("/hashcalculation")}})}),Object(_.jsx)("br",{})]})}var A=a(64),V=a.n(A);a(269);function F(e){var t=e.showPasscodeModal,a=e.setShowPasscodeModal,c=e.passcode,n=Object(s.useState)("#bbbbbb"),r=Object(j.a)(n,2),o=r[0],i=r[1],l=Object(d.g)();return Object(_.jsx)(P.a,{show:t,onHide:function(){return a(!1)},"aria-labelledby":"example-modal-sizes-title-lg",backdrop:"static",centered:!0,children:Object(_.jsx)(P.a.Body,{children:Object(_.jsxs)("div",{className:"PasscodeModal_body",children:[Object(_.jsx)("div",{className:"PasscodeModal_title",children:"Your Passcode is:"}),Object(_.jsxs)("div",{className:"PasscodeModal_PasscodeBox",children:[Object(_.jsx)("div",{children:c}),Object(_.jsx)("div",{className:"PasscodeModal_div_Copy",children:Object(_.jsx)("input",{className:"PasscodeModal_btn_Copy",style:{background:o},type:"button",value:"Copy",onClick:function(){i("#B9E9FF"),V()(c)}})})]}),Object(_.jsx)("div",{className:"PasscodeModal_div_Continue",children:Object(_.jsx)("input",{className:"PasscodeModal_btn_Continue",type:"button",value:"Continue",onClick:function(){return l("/scenario")}})})]})})})}a(270);function Y(){var e=Object(s.useState)(!1),t=Object(j.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(!1),r=Object(j.a)(n,2),o=r[0],i=r[1],d=Object(s.useState)("5"),u=Object(j.a)(d,2),h=u[0],x=u[1],O=Object(s.useState)("5"),g=Object(j.a)(O,2),v=g[0],k=g[1],N=Object(s.useState)(null),P=Object(j.a)(N,2),D=P[0],C=P[1],S=Object(s.useState)(0),w=Object(j.a)(S,2),I=w[0],T=w[1],H=Object(s.useState)(""),E=Object(j.a)(H,2),G=E[0],L=E[1],A=Object(s.useState)(!1),V=Object(j.a)(A,2),Y=V[0],U=V[1],R=Object(s.useState)(""),W=Object(j.a)(R,2),J=W[0],q=W[1],Q=Object(s.useState)(""),z=Object(j.a)(Q,2),K=z[0],X=z[1],Z=Object(s.useContext)(p),$=Z.setPrivateID,ee=Z.setPasscode,te=Z.setSessionID,ae=Z.socket,se=Object(s.useRef)(null),ce=function(){var e=Object(b.a)(l.a.mark((function e(){var t,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Y){e.next=3;break}return ne("Please select a game!"),e.abrupt("return");case 3:if(D){e.next=6;break}return ne("Please upload an Excel file!"),e.abrupt("return");case 6:return e.prev=6,(t=new FormData).append("tfbc",h),t.append("tfbm",v),t.append("xlsx",D),e.next=13,m("".concat(f,"/game1/session"),{method:"POST",data:t});case 13:return a=e.sent,e.next=16,a.data;case 16:0===(s=e.sent).status?($(s.pid),ee(s.passcode),te(s.sid),T(s.passcode),c(!0),ae.emit("join_game1",s.sid)):(console.log(s.err),ne(s.err)),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(6),console.log(e.t0),ne(e.t0);case 24:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(){return e.apply(this,arguments)}}();function ne(e){X(e),i(!0)}return Object(s.useEffect)((function(){null!=D&&(console.log(D.name),q(D.name))}),[D]),Object(_.jsxs)("main",{children:[Object(_.jsx)(M,{backLastPage:"",lastPageName:""}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"GameSettingPage_topic",children:"Game Settings"}),Object(_.jsx)("br",{}),Object(_.jsx)(y.a,{className:"GameSettingPage_Form",children:Object(_.jsxs)("div",{className:"form-floating",children:[Object(_.jsxs)(y.a.Group,{className:"mb-3",children:[Object(_.jsx)(y.a.Label,{children:"Time for Block Creation"}),Object(_.jsxs)(y.a.Select,{defaultValue:5,onChange:function(e){return x(e.target.value)},children:[Object(_.jsx)("option",{children:"5"}),Object(_.jsx)("option",{children:"10"})]})]}),Object(_.jsxs)(y.a.Group,{className:"mb-3",children:[Object(_.jsx)(y.a.Label,{children:"Time for Block Mining"}),Object(_.jsxs)(y.a.Select,{defaultValue:5,onChange:function(e){return k(e.target.value)},children:[Object(_.jsx)("option",{children:"5"}),Object(_.jsx)("option",{children:"10"})]})]})]})}),Object(_.jsx)("div",{className:"GameSettingPage_GameList_topic",children:"Select Game:"}),Object(_.jsxs)("div",{className:"GameSettingPage_GameList",children:[Object(_.jsx)("input",{type:"button",className:"GameSettingPage_gamebox GameSettingPage_gameready",style:{color:"black",backgroundColor:G},value:"Game 1: Simple PoW Blockchain (Only Miners)",onClick:function(e){return U(!0),void L("chartreuse")}}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),Object(_.jsx)("input",{type:"button",className:"GameSettingPage_gamebox",value:"Game 2: Blockchain (Miners + Merkle Tree)"}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{})]}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"GameSettingPage_DataList",children:Object(_.jsx)("table",{className:"GameSettingPage_DataList_table",children:Object(_.jsx)("tbody",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{className:"GameSettingPage_DataList_td",children:Object(_.jsx)("div",{className:"GameSettingPage_DataList_topic",children:"Data:"})}),Object(_.jsxs)("td",{className:"GameSettingPage_DataList_td",children:[Object(_.jsx)("input",{type:"button",onClick:function(){se.current.click()},className:"GameSettingPage_DataList_btn",value:"Browse"}),Object(_.jsx)("input",{ref:se,className:"fileUpload",type:"file",accept:".xlsx",onChange:function(e){return C(e.target.files[0])}}),Object(_.jsx)("label",{children:J})]}),Object(_.jsx)("td",{className:"GameSettingPage_DataList_td",children:Object(_.jsx)("a",{href:"".concat(f,"/game1/template"),download:!0,children:Object(_.jsx)("input",{type:"button",className:"GameSettingPage_DataList_btn",value:"Download Template"})})})]})})})}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"GameSettingPage_submit_div",children:Object(_.jsx)("input",{className:"GameSettingPage_submit_btn",type:"button",value:"Submit",onClick:ce})}),Object(_.jsx)("br",{}),Object(_.jsx)(F,{passcode:I,showPasscodeModal:a,setShowPasscodeModal:c}),Object(_.jsx)(B,{showErrorModal:o,setShowErrorModal:i,errorTitleMSG:"Input Error",errorMSG:K})]})}a(271);function U(e){var t=Object(d.g)(),a=e.text,s=e.link,c=e.css;return Object(_.jsx)("input",{type:"button",onClick:function(e){t(s)},className:"btn_bandp",style:{height:c.h,WebkitBorderRadius:c.r},value:a})}a(272);function R(){var e=Object(s.useContext)(p),t=e.userInfo,a=e.privateID;return Object(_.jsxs)("div",{children:[Object(_.jsx)(M,{backLastPage:"",lastPageName:""}),Object(_.jsxs)("div",{className:"minter_h_btns",children:[Object(_.jsx)("div",{className:"col  minter_h_border ",style:{marginTop:"1rem"},children:Object(_.jsx)("table",{class:"table  align-middle table-borderless ",children:Object(_.jsxs)("tbody",{children:[Object(_.jsxs)("tr",{className:"text-center",children:[Object(_.jsx)("td",{width:"150px",children:"Passcode"}),Object(_.jsxs)("td",{width:"150px",className:"text-start",children:[":",h.a.get("passcode")]}),Object(_.jsxs)("td",{width:"170px",children:[" ",Object(_.jsx)("input",{className:"PasscodeModal_btn_Copy",type:"button",style:{width:"4rem"},value:"Copy",onClick:function(e){return V()(h.a.get("passcode"))}})]})]}),Object(_.jsxs)("tr",{className:"text-center",children:[Object(_.jsx)("td",{width:"150px",children:"Your Public ID"}),Object(_.jsxs)("td",{width:"150px",className:"text-start",children:[" :",t]})]}),Object(_.jsxs)("tr",{className:"text-center",children:[Object(_.jsx)("td",{width:"150px",children:"Your Private ID"}),Object(_.jsxs)("td",{width:"150px",className:"text-start",children:[":",a]}),Object(_.jsx)("td",{width:"170px",children:Object(_.jsx)("input",{className:"PasscodeModal_btn_Copy ",type:"button",style:{width:"4rem"},value:"Copy",onClick:function(e){return V()(a)}})})]})]})})}),Object(_.jsx)("div",{className:"col",children:Object(_.jsx)(U,{text:"Dashboard",link:"/nodedashboard",css:{w:"100%",h:"auto",c:"gainsboro",r:"20px"}})}),Object(_.jsx)("div",{className:"col",children:Object(_.jsx)(U,{text:"Points",link:"/point",css:{w:"100%",h:"auto",c:"gainsboro",r:"20px"}})})]})]})}a(273);var W=a(434),J=a(211),q=a(102);function Q(e){var t=e.data;return Object(_.jsxs)("div",{children:[Object(_.jsxs)(W.a,{width:90,height:90,children:[Object(_.jsx)(J.a,{dataKey:"value",nameKey:"name",isAnimationActive:!0,data:t,cx:"70%",cy:"50%",outerRadius:30,fill:"#8884d8"}),Object(_.jsx)(q.a,{})]}),"(",t[0].value+"/"+(t[1].value+t[0].value),")"]})}a(403);function z(e){var t=e.json,a=t.table_type,c=t.head,n=t.body,r=Object(s.useContext)(p),o=r.userType,i=r.setBlockDetail,l=Object(s.useState)(!1),b=Object(j.a)(l,2),u=(b[0],b[1],Object(d.g)());function h(e){var t=new Date(e);return"".concat(t.getDate(),"-").concat(t.getMonth()+1,"-").concat(t.getFullYear()," ").concat(t.getHours(),":").concat(t.getMinutes())}var x=function(){return null!==c?c.map((function(e){return Object(_.jsx)("th",{children:e})})):null},O=function(e,t){return"Student"===o?1===e?Object(_.jsxs)("td",{className:"text-center ",children:[Object(_.jsx)("label",{children:"Chained"}),Object(_.jsx)("br",{}),Object(_.jsx)("button",{type:"button",className:"table_btn_false",onClick:function(){i(t),u("/chainedblockdetail")},children:"Detail"})]}):2===e?Object(_.jsxs)("td",{className:"text-center ",children:[Object(_.jsx)("label",{children:"Failed"}),Object(_.jsx)("br",{}),Object(_.jsx)("button",{type:"button",className:"table_btn_false",onClick:function(){i(t),u("/chainedblockdetail")},children:"Detail"})]}):Object(_.jsxs)("td",{className:"text-center ",children:[Object(_.jsx)("label",{children:"Created"}),Object(_.jsx)("br",{}),Object(_.jsx)("button",{type:"button",className:"table_btn_false",onClick:function(){i(t),u("/calculatehash")},children:"Mine"})]}):1===e?Object(_.jsxs)("td",{className:"text-center ",children:[Object(_.jsx)("label",{children:"Chained"}),Object(_.jsx)("br",{}),Object(_.jsx)("button",{type:"button",className:"table_btn_false",onClick:function(){i(t),u("/chainedblockdetail")},children:"Detail"})]}):2===e?Object(_.jsxs)("td",{className:"text-center ",children:[Object(_.jsx)("label",{children:"Failed"}),Object(_.jsx)("br",{}),Object(_.jsx)("button",{type:"button",className:"table_btn_false",onClick:function(){i(t),u("/chainedblockdetail")},children:"Detail"})]}):Object(_.jsxs)("td",{className:"text-center ",children:[Object(_.jsx)("label",{children:"Created"}),Object(_.jsx)("br",{}),Object(_.jsx)("button",{type:"button",className:"table_btn_false",onClick:function(){i(t),u("/verification")},children:"Verification"})]})},m=function(){if(null!==n){if("table_col_3"===a){var t=1;return n.map((function(e,a){return++t>6?Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:e.pbid}),Object(_.jsx)("td",{children:e.points}),Object(_.jsx)("td",{children:t-1})]}):null}))}return"table_col_4"===a?n.map((function(e,t){return Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:t+e.td1}),Object(_.jsx)("td",{children:t+e.td2}),Object(_.jsx)("td",{children:t+e.td3}),Object(_.jsx)("td",{children:t+e.td4})]})})):"table_col_5_button"===a?n.map((function(t){return Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:h(t.ad)}),Object(_.jsx)("td",{children:t.pbid}),Object(_.jsx)("td",{children:t.nonce}),Object(_.jsx)("td",{children:t.hash}),(a=t.votes,s=t.correct,1===s?Object(_.jsxs)("td",{className:"text-center ",children:[Object(_.jsxs)("label",{children:[a/(e.total+1)*100,"%"]}),Object(_.jsx)("br",{}),Object(_.jsx)("button",{type:"button",className:"table_btn_true",children:"True"})]}):Object(_.jsxs)("td",{className:"text-center ",children:[Object(_.jsxs)("label",{children:[a/(e.total+1)*100,"%"]}),Object(_.jsx)("br",{}),Object(_.jsx)("button",{type:"button",className:"table_btn_false",children:"False"})]}))]},t.pbid);var a,s})):"table_col_4_button"===a?n.map((function(e){return e.bid>0&&null!==e.cd?Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:e.bid}),Object(_.jsx)("td",{style:{padding:"none"},children:Object(_.jsx)("button",{type:"button",className:"table_btn_detail",onClick:function(){i(e),u("/blockdata")},children:"Detail"})}),Object(_.jsx)("td",{children:h(e.cd)}),O(e.isChained,e)]},e.bid):null})):"table_barchat"===a?n.map((function(t,a){return Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:h(t.ad)}),Object(_.jsx)("td",{children:t.pbid}),Object(_.jsx)("td",{children:t.nonce}),Object(_.jsx)("td",{children:t.hash}),Object(_.jsx)("td",{children:Object(_.jsx)(Q,{data:[{name:"Vote",value:t.votes},{name:"Other",value:e.total-t.votes+1}]})})]})})):null}};return"table_col_3"===a||"table_col_4"===a||"table_col_5_button"===a||"table_col_4_button"===a||"table_barchat"===a?Object(_.jsx)("div",{children:Object(_.jsxs)("table",{className:"table table-bordered",children:[Object(_.jsxs)("thead",{children:[Object(_.jsx)("tr",{className:"text-center ths",children:x()}),Object(_.jsx)("div",{})]}),Object(_.jsx)("tbody",{className:"text-center tds",children:m()})]})}):null}function K(e){var t=Object(s.useContext)(p),a=(t.setTimerStart,t.tiemrSeconds),c=Object(s.useState)(0),n=Object(j.a)(c,2),r=n[0],o=n[1],i=Object(s.useState)(0),l=Object(j.a)(i,2),b=l[0],d=l[1],u=Object(s.useState)(!1),h=Object(j.a)(u,2),x=h[0],O=h[1];return Object(s.useEffect)((function(){}),[]),Object(s.useEffect)((function(){a<0?(O(!0),-1*Math.floor(a/60)-1<10?o("0"+-1*Math.floor(a/60)-1):o(-1*Math.floor(a/60)-1),d(a%60*-1<10?"0"+a%60*-1:a%60*-1)):(O(!1),Math.floor(a/60)<10?o("0"+Math.floor(a/60)):o(Math.floor(a/60)),d(a%60<10?"0"+a%60:a%60))}),[a]),Object(_.jsxs)("div",{style:x?{color:"rgb(175, 18, 18)"}:{color:"rgb(19, 185, 44)"},children:[r,":",b]})}function X(){var e=Object(d.g)(),t=Object(s.useContext)(p),a=t.gameOver,c=t.setGameOver,n=t.sessionID,r=t.socket,o=t.sessionInfo,i=t.setSessionInfo,u=t.setTimerStart,h=t.setTimerSeconds,x=Object(s.useState)([]),O=Object(j.a)(x,2),g=O[0],v=O[1],k=Object(s.useState)(!1),N=Object(j.a)(k,2),y=N[0],P=N[1],D=Object(s.useState)(0),B=Object(j.a)(D,2),C=B[0],S=B[1],w=function(){var e=Object(b.a)(l.a.mark((function e(){var t,a,s,r,o,b,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m("".concat(f,"/game1/session/sid/").concat(n),{method:"GET"});case 3:return t=e.sent,e.next=6,t.data;case 6:if(0===(a=e.sent).status){for(c(!1),v({table_type:"table_col_4_button",head:["Block Index","Data","Timestamp","Status"],body:a.session.blocks}),i(a.session.info),u(!1),h(0),s=0,r=0,o=0;o<a.session.blocks.length;o++)null!==a.session.blocks[o].cd&&(s++,1===a.session.blocks[o].isChained||2===a.session.blocks[o].isChained?r++:((b=new Date(a.session.blocks[o].cd)).setSeconds(b.getSeconds()+60*a.session.info.tfbc),j=(b.getTime()-(new Date).getTime())/1e3,h(Math.floor(j)),u(!0)));s===r&&P(!0),r===a.session.blocks.length-1&&(P(!1),c(!0),u(!1),h(0))}e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(b.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m("".concat(f,"/game1/session/").concat(n,"/miners/count"),{method:"GET"});case 3:return t=e.sent,e.next=6,t.data;case 6:0===(a=e.sent).status&&S(a.count),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){w(),I();var e=function(e){console.log("game1_block_end_listener"),w()},t=function(e){console.log("new_people_join"),I()};return r.on("game1_block_end",e),r.on("new_people_join",t),function(){r.off("game1_block_end",e),r.off("new_people_join",t)}}),[]),Object(_.jsxs)("main",{children:[Object(_.jsx)(M,{backLastPage:"",lastPageName:"nodehome"}),Object(_.jsx)("br",{}),Object(_.jsxs)("div",{className:"NodeDashboard_titlebox",children:[Object(_.jsx)("div",{children:"Real-time dashboard"}),Object(_.jsxs)("div",{className:"NodeDashboard_titlebox_right",children:[Object(_.jsx)("div",{className:"NodeDashboard_titletimebox_top",children:Object(_.jsx)(K,{})}),Object(_.jsxs)("div",{className:"NodeDashboard_titletimebox_down",children:[C," Miners"]})]})]}),Object(_.jsx)("div",{className:"NodeDashboard_mainTable",style:{height:"600px",overflow:"scroll"},children:Object(_.jsx)(z,{json:g,sessionInfo:o})}),Object(_.jsx)("br",{}),Object(_.jsxs)("div",{className:"NodeDashboard_submit_div",children:[Object(_.jsx)("input",{className:"NodeDashboard_submit_btn",type:"button",value:"New Wine Transaction",disabled:!y,style:a?{display:"none"}:y?null:{backgroundColor:"rgba(213, 213, 213, 0.8)",color:"rgba(152, 152, 152, 0.8)"},onClick:function(){return e("/dataupload")}}),Object(_.jsx)("input",{className:"NodeDashboard_submit_btn",type:"button",value:"All Blocks are created and mined ( Browse Miners Points )",style:a?{display:"inline",backgroundColor:"lightgreen"}:{display:"none",backgroundColor:"lightgreen"},onClick:function(){e("/point")}}),Object(_.jsx)("br",{})]}),Object(_.jsx)("br",{})]})}var Z=a(4);a(404);function $(e){var t=e.bid,a=e.cid,s=e.pdid,c=e.pdq,n=e.pdn,r=e.dd,o=e.selectedBlock,i=(e.setHeight,new Date(r.substring(0,19)+"-08:00")),l="".concat(i.getDate(),"-").concat(i.getMonth()+1,"-").concat(i.getFullYear());return Object(_.jsx)("main",{className:"CustomerDemands_boxPadding",children:Object(_.jsxs)("div",{className:"CustomerDemands_box",style:o===t?{backgroundColor:"rgba(235,245,179,255)"}:null,onClick:function(){},children:[Object(_.jsxs)("div",{className:"CustomerDemands_firstItem CustomerDemands_HashBox",children:[Object(_.jsx)("div",{className:"CustomerDemands_HashBox_left",children:"Customer ID"}),Object(_.jsxs)("div",{className:"CustomerDemands_HashBox_right",children:[": ",a]})]}),Object(_.jsxs)("div",{className:"CustomerDemands_HashBox",children:[Object(_.jsx)("div",{className:"CustomerDemands_HashBox_left",children:"Product ID"}),Object(_.jsxs)("div",{className:"CustomerDemands_HashBox_right",children:[": ",s]})]}),Object(_.jsxs)("div",{className:"CustomerDemands_HashBox",children:[Object(_.jsx)("div",{className:"CustomerDemands_HashBox_left",children:"Product Quantitly"}),Object(_.jsxs)("div",{className:"CustomerDemands_HashBox_right",children:[": ",c]})]}),Object(_.jsxs)("div",{className:"CustomerDemands_HashBox",children:[Object(_.jsx)("div",{className:"CustomerDemands_HashBox_left",children:"Product Name"}),Object(_.jsxs)("div",{className:"CustomerDemands_HashBox_right",children:[": ",n]})]}),Object(_.jsxs)("div",{className:"CustomerDemands_lastItem CustomerDemands_HashBox",children:[Object(_.jsx)("div",{className:"CustomerDemands_HashBox_left",children:"Delivery Date"}),Object(_.jsxs)("div",{className:"CustomerDemands_HashBox_right",children:[": ",l]})]})]})})}a(405);function ee(){var e=Object(s.useContext)(p),t=e.sessionID,a=e.socket,c=Object(s.useState)(!1),n=Object(j.a)(c,2),r=n[0],o=n[1],i=Object(s.useState)(null),u=Object(j.a)(i,2),h=u[0],x=u[1],O=Object(s.useState)(null),g=Object(j.a)(O,2),v=g[0],k=g[1],N=Object(s.useState)(""),P=Object(j.a)(N,2),D=P[0],C=P[1],S=Object(s.useState)(""),w=Object(j.a)(S,2),I=w[0],T=w[1],H=Object(s.useRef)(null),E=Object(d.g)();Object(s.useEffect)((function(){G()}),[]),Object(s.useEffect)((function(){H.current.scrollTop=140*(v-1)}),[v]);var G=function(){var e=Object(b.a)(l.a.mark((function e(){var a,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m("".concat(f,"/game1/session/sid/").concat(t),{method:"GET"});case 3:return a=e.sent,e.next=6,a.data;case 6:if(0!==(s=e.sent).status){e.next=18;break}x(s.session.blocks),c=1;case 10:if(!(c<s.session.blocks.length)){e.next=18;break}if(console.log(s.session.blocks[c]),null!==s.session.blocks[c].cd){e.next=15;break}return k(s.session.blocks[c].bid),e.abrupt("break",18);case 15:c++,e.next=10;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(b.a)(l.a.mark((function e(){var s,c,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v||!D){e.next=27;break}return e.prev=1,e.next=4,m("".concat(f,"/game1/session/").concat(t,"/miners/count"),{method:"GET"});case 4:return s=e.sent,e.next=7,s.data;case 7:if((c=e.sent)&&0===c.status&&!(c.count<3)){e.next=12;break}return console.log("Not enough miners (at least 3 miners) to start the game or other error occurs"),A("Not enough miners (at least 3 miners) to start the game or other error occurs"),e.abrupt("return");case 12:return e.next=14,m("".concat(f,"/game1/session/").concat(t,"/blocks"),{method:"POST",data:{bid:v,pid:D}});case 14:return n=e.sent,e.next=17,n.data;case 17:0===(r=e.sent).status?(E("/nodedashboard"),a.emit("teacher_update_game1_block",t)):(console.log(r.err),"Your Private ID is incorrect"===r.err?A("Your Private ID is incorrect!"):A(r.err)),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(1),console.log(e.t0),A("Error: "+e.t0.message);case 25:e.next=28;break;case 27:A("Please select a block and enter your private ID!");case 28:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(){return e.apply(this,arguments)}}();function A(e){T(e),o(!0)}return Object(_.jsxs)("main",{children:[Object(_.jsx)(M,{backLastPage:"",lastPageName:"nodedashboard"}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"NodeUploadPage_topic",children:"Select One Customer Demand"}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"NodeUploadPage_DemandList",ref:H,children:h?h.map((function(e){return 0!==e.bid?Object(_.jsx)($,Object(Z.a)(Object(Z.a)({},e),{},{selectedBlock:v,setSelectedBlock:k,container:H}),e.bid):null})):null}),Object(_.jsx)("br",{}),Object(_.jsx)(y.a,{className:"NodeUploadPage_Form",children:Object(_.jsx)("div",{className:"form-floating",children:Object(_.jsxs)(y.a.Group,{className:"mb-3",children:[Object(_.jsx)(y.a.Label,{children:"Input Your Private ID for Confirmation"}),Object(_.jsx)(y.a.Control,{type:"text",onChange:function(e){return C(e.target.value)}})]})})}),Object(_.jsx)("div",{className:"NodeUploadPage_submit_div",children:Object(_.jsx)("input",{className:"NodeUploadPage_submit_btn",type:"button",value:"Publish",onClick:L})}),Object(_.jsx)("br",{}),Object(_.jsx)(B,{showErrorModal:r,setShowErrorModal:o,errorTitleMSG:"Input Error",errorMSG:I})]})}a(406);function te(){var e,t,a=Object(s.useContext)(p),c=a.blockDetail,n=a.sessionInfo,r=c.bid,o=c.cid,i=c.pdid,l=c.pdq,b=c.pdn,j=c.dd,u=Object(d.g)();return j&&(e=new Date(j.substring(0,19)+"-08:00"),t="".concat(e.getDate()," ").concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]," ").concat(e.getFullYear())),Object(_.jsxs)("main",{children:[Object(_.jsx)(M,{backLastPage:"",lastPageName:""}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"BlockDataPage_topic",children:"Detail of the Block Data"}),Object(_.jsx)("br",{}),Object(_.jsxs)("div",{className:"BlockDataPage_numOfBlock",children:["Block Index: ",r]}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"BlockDataPage_Demand_div",children:Object(_.jsxs)("div",{className:"BlockDataPage_Demand",children:[Object(_.jsx)("div",{className:"BlockDataPage_Demand_topic",children:"Data 1"}),Object(_.jsxs)("div",{className:"BlockDataPage_HashBox",children:[Object(_.jsx)("div",{className:"BlockDataPage_HashBox_left",children:"Public ID"}),Object(_.jsxs)("div",{className:"BlockDataPage_HashBox_right",children:[": ",n.tid]})]}),Object(_.jsxs)("div",{className:"BlockDataPage_HashBox",children:[Object(_.jsx)("div",{className:"BlockDataPage_HashBox_left",children:"Customer ID"}),Object(_.jsxs)("div",{className:"BlockDataPage_HashBox_right",children:[": ",o]})]}),Object(_.jsxs)("div",{className:"BlockDataPage_HashBox",children:[Object(_.jsx)("div",{className:"BlockDataPage_HashBox_left",children:"Product ID"}),Object(_.jsxs)("div",{className:"BlockDataPage_HashBox_right",children:[": ",i]})]}),Object(_.jsxs)("div",{className:"BlockDataPage_HashBox",children:[Object(_.jsx)("div",{className:"BlockDataPage_HashBox_left",children:"Product Quantity"}),Object(_.jsxs)("div",{className:"BlockDataPage_HashBox_right",children:[": ",l]})]}),Object(_.jsxs)("div",{className:"BlockDataPage_HashBox",children:[Object(_.jsx)("div",{className:"BlockDataPage_HashBox_left",children:"Product Name"}),Object(_.jsxs)("div",{className:"BlockDataPage_HashBox_right",children:[": ",b]})]}),Object(_.jsxs)("div",{className:"BlockDataPage_Demand_lastItem BlockDataPage_HashBox",children:[Object(_.jsx)("div",{className:"BlockDataPage_HashBox_left",children:"Delivery Date"}),Object(_.jsxs)("div",{className:"BlockDataPage_HashBox_right",children:[": ",t||null]})]})]})}),Object(_.jsx)("div",{className:"BlockDataPage_submit_div",children:Object(_.jsx)("input",{className:"BlockDataPage_submit_btn",type:"button",value:"Back",onClick:function(){return u(-1)}})}),Object(_.jsx)("br",{})]})}a(407);function ae(){var e=Object(d.g)(),t=Object(s.useContext)(p),a=t.blockDetail,c=t.sessionID,n=Object(s.useState)(null),r=Object(j.a)(n,2),o=r[0],i=r[1],u=function(){var e=Object(b.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("".concat(f,"/game1/session/sid/").concat(c),{method:"GET"});case 2:return t=e.sent,e.next=5,t.data;case 5:0===(s=e.sent).status&&i(s.session.blocks[a.bid]);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){u()}),[]),Object(_.jsxs)("main",{children:[Object(_.jsx)(M,{backLastPage:"",lastPageName:""}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),Object(_.jsxs)("div",{className:"ChainedBlockDetailPage_main",children:[Object(_.jsx)("div",{children:"Detail of the Chained Block"}),Object(_.jsx)("br",{}),Object(_.jsxs)("div",{className:"ChainedBlockDetailPage_HashBox",children:[Object(_.jsx)("div",{className:"ChainedBlockDetailPage_HashBox_left",children:"Block Index"}),Object(_.jsxs)("div",{className:"ChainedBlockDetailPage_HashBox_right",children:[": ",o?o.bid:null]})]}),Object(_.jsx)("br",{}),Object(_.jsxs)("div",{className:"ChainedBlockDetailPage_HashBox",children:[Object(_.jsx)("div",{className:"ChainedBlockDetailPage_HashBox_left",children:"Hash Value"}),Object(_.jsxs)("div",{className:"ChainedBlockDetailPage_HashBox_right",children:[": ",o?o.hash:null]})]}),Object(_.jsx)("br",{}),Object(_.jsxs)("div",{className:"ChainedBlockDetailPage_HashBox",children:[Object(_.jsx)("div",{className:"ChainedBlockDetailPage_HashBox_left",children:"Nonce Value"}),Object(_.jsxs)("div",{className:"ChainedBlockDetailPage_HashBox_right",children:[": ",o?o.nonce:null]})]}),Object(_.jsx)("br",{})]}),Object(_.jsx)("div",{className:"ChainedBlockDetailPage_submit_div",children:Object(_.jsx)("input",{className:"ChainedBlockDetailPage_submit_btn",type:"button",value:"Back",onClick:function(){return e(-1)}})}),Object(_.jsx)("br",{})]})}a(408);function se(){var e=Object(d.g)(),t=Object(s.useContext)(p),a=t.gameOver,c=t.setGameOver,n=t.sessionID,r=t.socket,o=(t.sessionInfo,t.setSessionInfo),i=t.setTimerSeconds,u=t.setTimerStart,h=t.setBlockDetail,x=Object(s.useState)([]),O=Object(j.a)(x,2),g=O[0],v=O[1],k=function(){var e=Object(b.a)(l.a.mark((function e(){var t,a,s,r,b,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h({}),e.next=4,m("".concat(f,"/game1/session/sid/").concat(n),{method:"GET"});case 4:return t=e.sent,e.next=7,t.data;case 7:if(0===(a=e.sent).status){for(c(!1),console.log("get blocks"),v({table_type:"table_col_4_button",head:["Block Index","Data","Timestamp","Status"],body:a.session.blocks}),o(a.session.info),u(!1),i(0),s=0,r=0;r<a.session.blocks.length;r++)null!==a.session.blocks[r].cd&&(1===a.session.blocks[r].isChained||2===a.session.blocks[r].isChained?s++:((b=new Date(a.session.blocks[r].cd)).setSeconds(b.getSeconds()+60*a.session.info.tfbc),j=(b.getTime()-(new Date).getTime())/1e3,i(Math.floor(j)),u(!0)));s===a.session.blocks.length-1&&(c(!0),u(!1),i(0))}else console.log(a.err);e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){k();var t=function(e){console.log("game1_block_update_listener"),k()},a=function(t){console.log("game1_block_end"),e("/hashboardwaiting")},s=function(t){console.log("teacher_force_chained"),e("/hashboardwaiting")};return r.on("game1_block_end",a),r.on("game1_block_force_chained",s),r.on("game1_block_update",t),function(){r.off("game1_block_end",a),r.off("game1_block_force_chained",s),r.off("game1_block_update",t)}}),[]),Object(_.jsxs)("main",{children:[Object(_.jsx)(M,{backLastPage:"",lastPageName:"minerhome"}),Object(_.jsx)("br",{}),Object(_.jsxs)("div",{className:"MinerDashboard_titlebox",children:[Object(_.jsx)("div",{className:"MinerDashboard_titlebox_topic",children:"Real-time dashboard"}),Object(_.jsx)("div",{className:"MinerDashboard_titletimebox",children:Object(_.jsx)(K,{})})]}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"MinerDashboardPage_mainTable",style:{height:"600px",overflow:"scroll"},children:Object(_.jsx)(z,{json:g})}),Object(_.jsx)("br",{}),Object(_.jsx)("input",{type:"button",value:"All Blocks are created and mined ( Browse Miners Points )",style:a?{width:"100%",display:"inline",backgroundColor:"lightgreen"}:{display:"none",backgroundColor:"lightgreen"},onClick:function(){e("/point")}}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{})]})}a(409);function ce(e){var t,a,s=e.background,c=e.setBlockHashs,n=e.item;n.dd&&(t=new Date(n.dd.substring(0,19)+"-08:00"),a="".concat(t.getDate()," ").concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]," ").concat(t.getFullYear()));return Object(_.jsxs)("div",{children:[Object(_.jsx)("table",{className:"BlockItem_box",children:Object(_.jsx)("tbody",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{className:"BlockItem_box_td1",children:Object(_.jsxs)("div",{href:"",className:"BlockItem_box_left",style:{backgroundColor:s},children:[Object(_.jsx)("div",{className:"BlockItem_box_topic_left",children:"Data "}),Object(_.jsxs)("div",{className:"BlockItem_firstItem",children:["Customer ID: ",n.cid]}),Object(_.jsxs)("div",{children:["Product ID: ",n.pdid]}),Object(_.jsxs)("div",{children:["Product Quantity: ",n.pdq]}),Object(_.jsxs)("div",{children:["Product Name: ",n.pdn]}),Object(_.jsxs)("div",{className:"BlockItem_lastItem",children:["Delivery Date: ",a]})]})}),Object(_.jsx)("td",{className:"BlockItem_box_td2"}),Object(_.jsx)("td",{className:"BlockItem_box_td3",children:Object(_.jsxs)("div",{href:"",className:"BlockItem_box_right",style:{backgroundColor:s},children:[Object(_.jsxs)("div",{className:"BlockItem_box_topic_right",children:["Data  ",n.bid]}),Object(_.jsxs)("div",{className:"BlockItem_HashBox",children:[Object(_.jsx)("div",{className:"BlockItem_HashBox_left",children:"Pre. Hash"}),Object(_.jsxs)("div",{className:"BlockItem_HashBox_right",children:[": ",n.ph]})]}),Object(_.jsxs)("div",{className:"BlockItem_HashBox",children:[Object(_.jsx)("div",{className:"BlockItem_HashBox_left",children:"Hash"}),Object(_.jsxs)("div",{className:"BlockItem_HashBox_right BlockItem_HashBox",children:[Object(_.jsx)("div",{className:"BlockItem_input_left",children:":"}),Object(_.jsx)("input",{pattern:"[0-9]*",className:"BlockItem_input_right",onChange:function(e){c((function(t){return t.map((function(t,a){return a!==n.bid?t:parseInt(e.target.value)}))}))},defaultValue:n.hash})]})]}),Object(_.jsxs)("div",{className:"BlockItem_HashBox",children:[Object(_.jsx)("div",{className:"BlockItem_HashBox_left",children:"Nonce"}),Object(_.jsxs)("div",{className:"BlockItem_HashBox_right",children:[": ",n.nonce]})]})]})})]})})}),Object(_.jsx)("br",{})]})}a(410);function ne(){var e=Object(d.g)(),t=Object(s.useContext)(p),a=t.sessionID,c=t.setSessionInfo,n=Object(s.useState)(""),r=Object(j.a)(n,2),o=r[0],i=r[1],u=Object(s.useState)([]),h=Object(j.a)(u,2),x=h[0],O=h[1],g=Object(s.useState)(99),v=Object(j.a)(g,2),k=v[0],N=v[1],y=function(){var e=Object(b.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m("".concat(f,"/game1/session/sid/").concat(a),{method:"GET"});case 3:return t=e.sent,e.next=6,t.data;case 6:0===(s=e.sent).status&&i(s.session.blocks),s.session.blocks.forEach((function(e){0!==e.bid&&(x[e.bid]=e.hash)})),c(s.session.info),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){for(var e=!1,t=1;t<o.length;t++){var a=o[t];if(x[a.bid]!==a.hash){N(t),e=!0;break}}e||N(99)}),[x]),Object(s.useEffect)((function(){y()}),[]),Object(_.jsxs)("main",{children:[Object(_.jsx)(M,{backLastPage:"",lastPageName:"point"}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"AllBlockPage_topic",children:"Select One Customer Demand"}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"AllBlockPage_blocktopic",children:"Block Index:"}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"AllBlockPage_BlockList",children:o?o.map((function(e){return 0!==e.bid?e.bid>=k?Object(_.jsx)(ce,{setBlockHashs:O,background:"rgb(256,180,172)",item:e},e.bid):Object(_.jsx)(ce,{setBlockHashs:O,background:"rgb(158, 241, 90)",item:e},e.bid):null})):null}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"AllBlockPage_back_div",children:Object(_.jsx)("input",{className:"AllBlockPage_back_btn",type:"button",value:"Back",onClick:function(){return e(-1)}})}),Object(_.jsx)("br",{})]})}a(411),a(412);function re(e){var t=Object(d.g)(),a=e.showPointsMessageModalModal,s=e.sequencNo,c=e.point;return c<=0?Object(_.jsxs)(P.a,{show:a,onHide:function(){},"aria-labelledby":"example-modal-sizes-title-lg",centered:!0,children:[Object(_.jsx)(P.a.Body,{children:Object(_.jsxs)("div",{className:"modal_body text-center",children:[Object(_.jsx)("b",{children:"Thank You for Your Mining Effort!"}),Object(_.jsx)("p",{}),Object(_.jsxs)("p",{children:[" The block has been verified and",Object(_.jsx)("br",{}),"added in the blockchain"]}),Object(_.jsx)("hr",{}),Object(_.jsxs)("h4",{children:[" ",Object(_.jsx)("p",{className:"modal_point",children:" + 0 Point "})]})]})}),Object(_.jsx)(P.a.Footer,{children:Object(_.jsx)("div",{className:"setShowLoginModal_div_back",children:Object(_.jsx)("input",{className:"btn_div_back text-center",type:"button",onClick:function(){t("/minerdashboard")},value:"Back"})})})]}):Object(_.jsxs)(P.a,{show:a,onHide:function(){},"aria-labelledby":"example-modal-sizes-title-lg",centered:!0,children:[Object(_.jsx)(P.a.Header,{closeButton:!0,children:Object(_.jsx)(P.a.Title,{children:"Modal heading"})}),Object(_.jsx)(P.a.Body,{children:Object(_.jsxs)("div",{className:"modal_body text-center",children:[Object(_.jsx)("b",{children:"Congratulation!"}),Object(_.jsx)("p",{}),Object(_.jsxs)("p",{children:[" Your Calculated hash value is same",Object(_.jsx)("br",{}),"as the value with over 50% votes.",Object(_.jsx)("br",{}),"Your sequence no.:",s]}),Object(_.jsx)("hr",{}),Object(_.jsxs)("h4",{children:[" ",Object(_.jsxs)("p",{className:"modal_point",children:[" + ",c," Point "]})]})]})}),Object(_.jsx)(P.a.Footer,{children:Object(_.jsx)("div",{className:"setShowLoginModal_div_back",children:Object(_.jsx)("input",{className:"btn_div_back text-center",type:"button",onClick:function(){t("/minerdashboard")},value:"Back"})})})]})}function oe(){var e=Object(s.useContext)(p),t=e.sessionID,a=e.socket,c=(e.sessionInfo,e.setSessionInfo),n=e.blockDetail,r=Object(s.useState)([]),o=Object(j.a)(r,2),i=o[0],d=o[1],u=Object(s.useState)(!1),h=Object(j.a)(u,2),x=h[0],O=h[1],g=Object(s.useState)(0),v=Object(j.a)(g,2),k=v[0],N=v[1],y=Object(s.useState)(0),P=Object(j.a)(y,2),D=P[0],B=P[1],C=Object(s.useState)(0),S=Object(j.a)(C,2),w=S[0],I=S[1],T=function(){var e=Object(b.a)(l.a.mark((function e(){var a,s,r,o,i,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.bid){e.next=4;break}return H(),e.abrupt("return");case 4:return e.next=6,m("".concat(f,"/game1/session/").concat(t,"/block/").concat(n.bid),{method:"GET"});case 6:return a=e.sent,e.next=9,a.data;case 9:if(0!==(s=e.sent).status||0===s.block.isChained){e.next=13;break}return H(),e.abrupt("return");case 13:return e.next=15,m("".concat(f,"/game1/session/").concat(t,"/blocks/").concat(n.bid,"/miners/all"),{method:"GET"});case 15:return r=e.sent,e.next=18,r.data;case 18:return 0===(o=e.sent).status&&I(o.miners.length),e.next=22,m("".concat(f,"/game1/session/").concat(t,"/miners/blocks/").concat(n.bid),{method:"GET"});case 22:return i=e.sent,e.next=25,i.data;case 25:0===(b=e.sent).status&&(d({table_type:"table_barchat",title:"Hash-board",head:["Timestamp","Public ID","Nonce","Hash Value","Vote"],body:b.blocks}),c(b.session.info)),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.log(e.t0);case 32:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(b.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.bid){e.next=6;break}return N(0),B(0),O(!0),e.abrupt("return");case 6:return e.next=8,m("".concat(f,"/game1/session/miners/blocks/").concat(n.bid),{method:"GET"});case 8:return t=e.sent,e.next=11,t.data;case 11:0===(a=e.sent).status&&a.block&&(N(a.block.seq),B(a.block.points)),O(!0),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){T();var e=function(e){console.log("game1_block_end"),H()},t=function(e){console.log("teacher_force_chained"),H()},s=function(e){console.log("game1_votes_update"),T()};return a.on("game1_block_end",e),a.on("game1_votes_update",s),a.on("game1_block_force_chained",t),function(){a.off("game1_block_end",e),a.off("game1_votes_update",s),a.off("game1_block_force_chained",t)}}),[]),Object(_.jsxs)("main",{children:[Object(_.jsx)(M,{backLastPage:"",lastPageName:""}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"HashBoardWaitingPage_title",children:"Hash-board"}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"HashBoardWaitingPage_mainTable",children:Object(_.jsx)(z,{json:i,total:w})}),Object(_.jsx)("div",{className:"HashBoardWaitingPage_waiting_div",children:Object(_.jsx)("input",{className:"HashBoardWaitingPage_waiting_btn",type:"button",value:"Waiting for the result ..."})}),Object(_.jsx)("br",{}),Object(_.jsx)(re,{showPointsMessageModalModal:x,sequencNo:k,point:D})]})}a(413);function ie(){var e=Object(d.g)(),t=Object(s.useContext)(p),a=t.sessionID,c=t.socket,n=t.blockDetail,r=Object(s.useState)([]),o=Object(j.a)(r,2),i=o[0],u=o[1],h=Object(s.useState)(0),x=Object(j.a)(h,2),O=x[0],g=x[1],v=function(){var e=Object(b.a)(l.a.mark((function e(){var t,s,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m("".concat(f,"/game1/session/").concat(a,"/blocks/").concat(n.bid,"/miners/all"),{method:"GET"});case 3:return t=e.sent,e.next=6,t.data;case 6:return 0===(s=e.sent).status&&g(s.miners.length),e.next=10,m("".concat(f,"/game1/session/").concat(a,"/miners/blocks/").concat(n.bid),{method:"GET"});case 10:return c=e.sent,e.next=13,c.data;case 13:0===(r=e.sent).status?u(r.blocks):console.log(r.err),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var t=Object(b.a)(l.a.mark((function t(){var s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m("".concat(f,"/game1/session/miners/blocks/force"),{method:"PUT",data:{sid:a,bid:n.bid}});case 3:return s=t.sent,t.next=6,s.data;case 6:0===(r=t.sent).status?(c.emit("teacher_force_chained",a),e(-1)):console.log(r.err),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),N={table_type:"table_col_5_button",head:["Timestamp","Public ID","Nonce","Hash Value","Verification"],body:i};return Object(s.useEffect)((function(){v();var e=function(e){console.log("game1_votes_update_listener"),v()};return c.on("game1_votes_update",e),function(){return c.off("game1_votes_update",e)}}),[]),Object(_.jsxs)("main",{children:[Object(_.jsx)(M,{backLastPage:"",lastPageName:""}),Object(_.jsx)("br",{}),Object(_.jsxs)("div",{className:"VerificationPage_topicBox",children:[Object(_.jsx)("div",{children:"Verification:"}),Object(_.jsx)("div",{children:"The Hash Value is divided by 3 and 7."}),Object(_.jsx)("div",{children:"(condition)"})]}),Object(_.jsx)("br",{}),Object(_.jsxs)("div",{className:"VerificationPage_titlebox",children:[Object(_.jsx)("div",{className:"VerificationPage_title_font",children:"Hash-board"}),Object(_.jsx)("div",{children:Object(_.jsx)("input",{type:"button",value:"Force Chained",className:"VerificationPage_title_btn",onClick:k})})]}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"VerificationPage_mainTable",style:{height:"600px",overflow:"scroll"},children:Object(_.jsx)(z,{json:N,total:O})}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"VerificationPage_back_div",children:Object(_.jsx)("input",{className:"VerificationPage_back_btn",type:"button",value:"Back",onClick:function(){return e(-1)}})}),Object(_.jsx)("br",{})]})}var le=a(121),be=a(427),je=a(428),de=a(429),ue=a(217),he=a(218),xe=a(222);function Oe(e){var t=e.data,a=Object(s.useState)([]),c=Object(j.a)(a,2),n=c[0],r=c[1];return Object(s.useEffect)((function(){if(t){r([]);var e=0;t.forEach((function(t){e<5&&(r((function(e){return[].concat(Object(le.a)(e),[{name:t.pbid,point:t.points}])})),e++)}))}}),[t]),Object(_.jsx)("div",{children:Object(_.jsx)(be.a,{width:"100%",aspect:2.5,children:Object(_.jsxs)(je.a,{width:500,height:300,data:n,margin:{top:5,right:30,left:0,bottom:5},options:{YAxis:[{ticks:{max:20}}]},children:[Object(_.jsx)(de.a,{strokeDasharray:"3 3"}),Object(_.jsx)(ue.a,{dataKey:"name"}),Object(_.jsx)(he.a,{}),Object(_.jsx)(q.a,{}),Object(_.jsx)(xe.a,{dataKey:"point",fill:"#58BED9"})]})})})}a(417);function me(){var e=Object(d.g)(),t=Object(s.useContext)(p),a=t.gameOver,c=t.sessionID,n=(t.socket,t.sessionInfo,t.setSessionInfo,Object(s.useState)([])),r=Object(j.a)(n,2),o=r[0],i=r[1],u=Object(s.useState)([]),x=Object(j.a)(u,2),O=x[0],g=x[1],v=Object(s.useState)("A"),k=Object(j.a)(v,2),N=k[0],y=k[1],P=function(){var e=Object(b.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("".concat(f,"/game1/session/").concat(c,"/miners/rank"),{method:"GET"});case 2:return t=e.sent,e.next=5,t.data;case 5:0===(a=e.sent).status?(i(a.miners),g({table_type:"table_col_3",head:["Public ID","Points","Rank"],body:a.miners})):console.log(a.err);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){P(),"Teacher"==h.a.get("userType")?y("nodehome"):y("minerhome")}),[]),Object(_.jsxs)("main",{children:[Object(_.jsx)(M,{backLastPage:"",lastPageName:N}),Object(_.jsx)("br",{}),Object(_.jsx)(Oe,{data:o}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"PointPage_RankTable_div",children:Object(_.jsx)(z,{json:O})}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"PointPage_Export_div",children:Object(_.jsx)("input",{className:"PointPage_Export_btn",type:"button",value:"Export Whole Blockchain",onClick:function(){return e("/allblock")}})}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"PointPage_Export_div",children:Object(_.jsx)("input",{className:"PointPage_Export_btn",type:"button",value:"Logout",style:a?{display:"inline",backgroundColor:"lightgreen"}:{display:"none",backgroundColor:"lightgreen"},onClick:function(){e("/login")}})}),Object(_.jsx)("br",{})]})}function fe(){var e=Object(d.g)();return Object(_.jsxs)("div",{children:[Object(_.jsx)(M,{backLastPage:"",lastPageName:""}),Object(_.jsx)("div",{className:"text-center",children:Object(_.jsx)("p",{className:"h3",style:{color:"#801E9E",paddingTop:"1rem",paddingBottom:"1rem"},children:"How to calculation Hash?"})}),Object(_.jsx)("div",{className:"hash_border",children:Object(_.jsxs)("div",{className:"hash_border_text",children:[Object(_.jsx)("p",{children:Object(_.jsx)("b",{children:"The rule of hash Calculation: "})}),Object(_.jsxs)("p",{children:["Hash = 10*(A + B + C + D + E) + Prev. Hash (last three digits) + Nonce",Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),"Nonce = a value between 1 and 21 (to be adjusted to produce a hash that can be completely divided by 3 AND 7)",Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),"Each block has five data fields (Customer ID, Product ID, Product Quantity, Product Name and Delivery Date).",Object(_.jsx)("br",{}),"A = Value of the first letter of Customer ID",Object(_.jsx)("br",{}),"B = Value of the first letter of Product ID",Object(_.jsx)("br",{}),"C = Value of the Product Quantity",Object(_.jsx)("br",{}),"D = Value of the first letter of Product Name",Object(_.jsx)("br",{}),"E = Value of the first two digits (i.e. day) of Delivery Date",Object(_.jsx)("br",{})]}),Object(_.jsx)(E.a,{src:"/calculationinfo.png",fluid:!0})]})}),Object(_.jsx)("div",{className:"hc_start",children:Object(_.jsx)(D.a,{variant:"none",style:{width:"100%",color:"white"},onClick:function(){return e(-1)},children:"Back"})})]})}a(418);function pe(){var e=Object(s.useContext)(p),t=e.userInfo,a=e.privateID;return Object(_.jsxs)("div",{children:[Object(_.jsx)(M,{backLastPage:"",lastPageName:""}),Object(_.jsxs)("div",{className:"minter_h_btns",children:[Object(_.jsx)("div",{className:"col text-center minter_h_border",children:Object(_.jsx)("table",{class:"table  align-middle table-borderless",children:Object(_.jsxs)("tbody",{children:[Object(_.jsxs)("tr",{className:"text-center",children:[Object(_.jsx)("td",{width:"150px",children:"Passcode"}),Object(_.jsxs)("td",{width:"150px",className:"text-start",children:[":",h.a.get("passcode")]}),Object(_.jsxs)("td",{width:"170px",children:[" ",Object(_.jsx)("input",{className:"PasscodeModal_btn_Copy",type:"button",style:{width:"4rem"},value:"Copy",onClick:function(e){return V()(h.a.get("passcode"))}})]})]}),Object(_.jsxs)("tr",{className:"text-center",children:[Object(_.jsx)("td",{width:"150px",children:"Your Public ID"}),Object(_.jsxs)("td",{width:"150px",className:"text-start",children:[" :",t]})]}),Object(_.jsxs)("tr",{className:"text-center",children:[Object(_.jsx)("td",{width:"150px",children:"Your Private ID"}),Object(_.jsxs)("td",{width:"150px",className:"text-start",children:[":",a]}),Object(_.jsx)("td",{width:"170px",children:Object(_.jsx)("input",{className:"PasscodeModal_btn_Copy ",type:"button",style:{width:"4rem"},value:"Copy",onClick:function(e){return V()(a)}})})]})]})})}),Object(_.jsx)("div",{className:"col",children:Object(_.jsx)(U,{text:"Dashboard",link:"/minerdashboard",css:{w:"100%",h:"auto",c:"gainsboro",r:"20px"}})}),Object(_.jsx)("div",{className:"col",children:Object(_.jsx)(U,{text:"Points",link:"/point",css:{w:"100%",h:"auto",c:"gainsboro",r:"20px"}})})]})]})}a(419);function ge(){var e,t,a=Object(d.g)(),c=Object(s.useContext)(p),n=c.blockDetail,r=c.sessionInfo,o=c.sessionID,i=c.socket,u=n.bid,h=n.cid,x=n.pdid,O=n.pdq,g=n.pdn,v=n.dd,k=n.ph,N=Object(s.useState)(null),y=Object(j.a)(N,2),P=y[0],D=y[1],C=Object(s.useState)(null),S=Object(j.a)(C,2),w=S[0],I=S[1],T=Object(s.useState)(null),H=Object(j.a)(T,2),E=H[0],G=H[1],L=Object(s.useState)(!1),A=Object(j.a)(L,2),V=A[0],F=A[1],Y=Object(s.useState)(""),U=Object(j.a)(Y,2),R=U[0],W=U[1],J=Object(s.useState)(!1),q=Object(j.a)(J,2),Q=q[0],z=q[1];v&&(e=new Date(v.substring(0,19)+"-08:00"),t="".concat(e.getDate()," ").concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]," ").concat(e.getFullYear()));var X=function(){var e=Object(b.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m("".concat(f,"/game1/session/").concat(o,"/blocks/").concat(u,"/miners/check"),{method:"GET"});case 3:return t=e.sent,e.next=6,t.data;case 6:0===(a=e.sent).status&&0===a.count?z(!0):0!==a.status&&ee(a.err),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),ee("Error: "+e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(b.a)(l.a.mark((function e(t){var s,c,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!(u&&P&&w&&E)){e.next=23;break}return e.next=5,m("".concat(f,"/game1/session/miners/blocks"),{method:"POST",data:{bid:u,nonce:P,hash:w,pvid:E}});case 5:return s=e.sent,e.next=8,s.data;case 8:if(0!==(c=e.sent).status){e.next=19;break}return e.next=12,m("".concat(f,"/game1/session/blocks/votes"),{method:"PUT",data:{bid:u,sid:o}});case 12:return n=e.sent,e.next=15,n.data;case 15:0===(r=e.sent).status?(i.emit("update_game1_votes",{sid:o,bid:u}),a("/hashboardwaiting")):console.log(r.err),e.next=21;break;case 19:console.log(c.err),"Your Private ID is incorrect"===c.err?ee("Your Private ID is incorrect!"):ee(c.err);case 21:e.next=24;break;case 23:ee("Please answer all 3 blanks!");case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(1),console.log(e.t0),ee("Error: "+e.t0.message);case 30:case"end":return e.stop()}}),e,null,[[1,26]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(b.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m("".concat(f,"/game1/session/").concat(o,"/miners/pbid/blocks/").concat(u),{method:"GET"});case 3:return t=e.sent,e.next=6,t.data;case 6:0===(s=e.sent).status&&s.count&&a("/hashboardwaiting"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();function ee(e){W(e),F(!0)}return Object(s.useEffect)((function(){X(),$();var e=function(e){console.log("game1_block_end"),a("/hashboardwaiting")},t=function(e){console.log("teacher_force_chained"),a("/hashboardwaiting")};return i.on("game1_block_end",e),i.on("game1_block_force_chained",t),function(){i.off("game1_block_end",e),i.off("game1_block_force_chained",t)}}),[]),Object(_.jsxs)("div",{className:"row",children:[Object(_.jsx)(M,{backLastPage:"",lastPageName:"minerdashboard"}),Object(_.jsx)("div",{className:"col-4 btn_margin_help",style:{paddingTop:"2%",paddingBottom:"2%",paddingLeft:"10%",paddingRight:"10%"},children:Object(_.jsx)("input",{type:"button",onClick:function(){return a("/help")},className:" text-center btn_help ",value:"HELP?"})}),Object(_.jsx)("div",{className:"col-4"}),Object(_.jsx)("div",{className:" text-center col-4",children:Object(_.jsx)("p",{className:"time_border",children:Object(_.jsx)(K,{})})}),Object(_.jsx)("div",{style:{paddingLeft:"6%"},children:Object(_.jsxs)("p",{children:["Calculation of the Hash Value",Object(_.jsx)("br",{}),"Block Index: ",u,Object(_.jsx)("br",{}),"Public ID: ",r.tid,Object(_.jsx)("br",{})]})}),Object(_.jsx)("div",{className:"player_info",style:{paddingLeft:"17%",paddingRight:"17%",width:"90%",marginLeft:"5%",marginRight:"3%"},children:Object(_.jsx)("table",{class:"table align-middle table-borderless",children:Object(_.jsxs)("tbody",{className:"text-center",children:[Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:" Customer ID"}),Object(_.jsxs)("td",{className:"text-start",children:[": ",h]})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Product ID"}),Object(_.jsxs)("td",{className:"text-start",children:[": ",x]})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Product Quantity"}),Object(_.jsxs)("td",{className:"text-start",children:[": ",O]})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Product Name"}),Object(_.jsxs)("td",{className:"text-start",children:[": ",g]})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Delivery Date"}),Object(_.jsxs)("td",{className:"text-start",children:[": ",t]})]})]})})}),Object(_.jsx)("div",{className:"phv_text",children:Object(_.jsxs)("p",{children:["Previous Hash Value (last 3 digits): ",k]})}),Object(_.jsx)("div",{className:"bar_ch",children:"Calculate the Nonce and Hash Value"}),Object(_.jsxs)("form",{className:"btn_group_ch",children:[Object(_.jsxs)("div",{className:"mb-4",children:[Object(_.jsx)("label",{for:"privateId",className:"form-label",children:"Input Your Private ID for Confirmation"}),Object(_.jsx)("input",{type:"text",className:"form-control",id:"privateId",onChange:function(e){return G(e.target.value)}})]}),Object(_.jsxs)("div",{className:"mb-4",children:[Object(_.jsx)("label",{for:"nonce",className:"form-label",children:"Nonce"}),Object(_.jsx)("input",{type:"text",className:"form-control",id:"nonce",onChange:function(e){return D(e.target.value)}})]}),Object(_.jsxs)("div",{className:"mb-4",children:[Object(_.jsx)("label",{for:"hashvalue",className:"form-label",children:"Hash Value"}),Object(_.jsx)("input",{type:"text",className:"form-control",id:"hashvalue",onChange:function(e){return I(e.target.value)}})]}),Object(_.jsx)("button",{className:"btn",onClick:Z,children:"Submit"})]}),Object(_.jsx)(B,{showErrorModal:V,setShowErrorModal:F,errorTitleMSG:"Input Error",errorMSG:R}),Object(_.jsx)(B,{showErrorModal:Q,setShowErrorModal:function(){a(-1)},errorTitleMSG:"Hi newcomer",errorMSG:"Please wait for the next block"})]})}var ve=a(26);r.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(ve.a,{children:Object(_.jsx)(d.d,{onChange:function(){console.log("test")},children:Object(_.jsxs)(d.b,{path:"/",element:Object(_.jsx)(k,{}),children:[Object(_.jsx)(d.b,{path:"/login",element:Object(_.jsx)(S,{})}),Object(_.jsx)(d.b,{path:"/point",element:Object(_.jsx)(me,{})}),Object(_.jsx)(d.b,{path:"/verification",element:Object(_.jsx)(ie,{})}),Object(_.jsx)(d.b,{path:"/hashboardwaiting",element:Object(_.jsx)(oe,{})}),Object(_.jsx)(d.b,{path:"/allblock",element:Object(_.jsx)(ne,{})}),Object(_.jsx)(d.b,{path:"/minerdashboard",element:Object(_.jsx)(se,{})}),Object(_.jsx)(d.b,{path:"/chainedblockdetail",element:Object(_.jsx)(ae,{})}),Object(_.jsx)(d.b,{path:"/blockdata",element:Object(_.jsx)(te,{})}),Object(_.jsx)(d.b,{path:"/dataupload",element:Object(_.jsx)(ee,{})}),Object(_.jsx)(d.b,{path:"/gamesetting",element:Object(_.jsx)(Y,{})}),Object(_.jsx)(d.b,{path:"/nodehome",element:Object(_.jsx)(R,{})}),Object(_.jsx)(d.b,{path:"/nodedashboard",element:Object(_.jsx)(X,{})}),Object(_.jsx)(d.b,{path:"/role",element:Object(_.jsx)(H,{})}),Object(_.jsx)(d.b,{path:"/scenario",element:Object(_.jsx)(L,{})}),Object(_.jsx)(d.b,{path:"/hashcalculation",element:Object(_.jsx)(G,{})}),Object(_.jsx)(d.b,{path:"/help",element:Object(_.jsx)(fe,{})}),Object(_.jsx)(d.b,{path:"/minerhome",element:Object(_.jsx)(pe,{})}),Object(_.jsx)(d.b,{path:"/calculatehash",element:Object(_.jsx)(ge,{})})]})})})}),document.getElementById("root")),N()}},[[420,1,2]]]);
//# sourceMappingURL=main.8ac72acf.chunk.js.map